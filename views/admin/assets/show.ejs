<% pageTitle = 'Asset' %>
<%
  const safeAsset = (typeof asset !== 'undefined' && asset) ? asset : {};
  const modelName = safeAsset.model ? safeAsset.model.name : '-';
  const manufacturerName = safeAsset.model && safeAsset.model.manufacturer ? safeAsset.model.manufacturer.name : '-';
  const categoryName = safeAsset.model && safeAsset.model.category ? safeAsset.model.category.name : '-';
%>

<section class="admin assets">
  <div class="d-flex flex-column flex-lg-row align-items-lg-center justify-content-between gap-3 mb-4">
    <div>
      <h1 class="h3 mb-1"><%= safeAsset.inventoryNumber || 'Asset' %></h1>
      <p class="text-muted mb-0">Modell: <%= modelName %></p>
    </div>
    <div class="d-flex gap-2">
      <a href="/admin/assets" class="btn btn-outline-secondary">Zur Übersicht</a>
      <a href="/admin/assets/<%= safeAsset.id %>/edit" class="btn btn-primary">Bearbeiten</a>
    </div>
  </div>

  <div class="card shadow-sm">
    <div class="card-body">
      <dl class="row mb-0">
        <dt class="col-sm-3">Inventarnummer</dt>
        <dd class="col-sm-9"><%= safeAsset.inventoryNumber || '-' %></dd>
        <dt class="col-sm-3">Seriennummer</dt>
        <dd class="col-sm-9"><%= safeAsset.serialNumber || '-' %></dd>
        <dt class="col-sm-3">Modell</dt>
        <dd class="col-sm-9"><%= modelName %></dd>
        <dt class="col-sm-3">Hersteller</dt>
        <dd class="col-sm-9"><%= manufacturerName %></dd>
        <dt class="col-sm-3">Kategorie</dt>
        <dd class="col-sm-9"><%= categoryName %></dd>
        <dt class="col-sm-3">Zustand</dt>
        <dd class="col-sm-9"><%= safeAsset.condition || '-' %></dd>
        <dt class="col-sm-3">Status</dt>
        <dd class="col-sm-9">
          <% if (safeAsset.isActive) { %>
            <span class="badge text-bg-success">Ja</span>
          <% } else { %>
            <span class="badge text-bg-danger">Nein</span>
          <% } %>
        </dd>
      </dl>
    </div>
    <div class="card-footer d-flex justify-content-end">
      <form method="post" action="/admin/assets/<%= safeAsset.id %>/delete">
        <input type="hidden" name="csrfToken" value="<%= csrfToken || '' %>">
        <button type="submit" class="btn btn-outline-danger">Löschen</button>
      </form>
    </div>
  </div>
</section>
